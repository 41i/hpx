<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title> Performance</title>
<link rel="stylesheet" href="../boostbook.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.66.1">
<link rel="start" href="../index.html" title="Chapter 1. Boost.Coroutine">
<link rel="up" href="details.html" title=" Details">
<link rel="prev" href="details.html" title=" Details">
<link rel="next" href="implementation.html" title=" Implementation">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<table cellpadding="2" width="100%"><tr>
<td valign="top"><img alt="Boost C++ Libraries" width="277" height="86" src="../../../boost.png"></td>
<td align="center"><a href="../../../index.htm">Home</a></td>
<td align="center"><a href="../libraries.html">Libraries</a></td>
<td align="center"><a href="http://www.boost.org/people/people.htm">People</a></td>
<td align="center"><a href="http://www.boost.org/more/faq.htm">FAQ</a></td>
<td align="center"><a href="../../../more/index.htm">More</a></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="details.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="details.html"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="implementation.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h3 class="title">
<a name="coroutine.performance"></a> Performance</h3></div></div></div>
<p>
        Ideally the cost of a coroutine call should be comparable to the cost of
        an indirect function call. Currently Boost.Coroutine, at least on Linux-x86-GCC
        come close to 150% of the speed of Boost.Function, itself comparable to the
        cost of an indirect function call. The Win32 implementation has not been
        benchmarked, but it might be slightly slower because of the need to switch
        exception contexts and some missed optimization opportunities. The <tt class="computeroutput"><span class="identifier">makecontext</span></tt> based implementation is at
        least three orders of magnitude slower than the others due to the need to
        perform a system call per context switch.
      </p>
<p>
        To get good performance on <tt class="computeroutput"><span class="identifier">Win32</span></tt>
        systems, a call to <tt class="computeroutput"><span class="identifier">ConvertThreadToFiber</span></tt>
        should be <a href="fibers.html#convert_thread_to_fiber_optimization">performed</a>
        on each thread that will invoke coroutines. Else a much slower code path
        will be used that may potentially make context switches extremely expensive.
      </p>
</div>
<table xmlns:rev="http://www.cs.rpi.edu/~gregod/boost/tools/doc/revision" width="100%"><tr>
<td align="left"></td>
<td align="right"><div class="copyright-footer">Copyright © 2006 Giovanni P. Deretta<p>
        Distributed under the Boost Software License, Version 1.0. (See accompanying
        file LICENSE_1_0.txt or copy at <a href="http://www.boost.org/LICENSE_1_0.txt" target="_top">
        http://www.boost.org/LICENSE_1_0.txt </a>)
      </p>
</div></td>
</tr></table>
<hr>
<div class="spirit-nav">
<a accesskey="p" href="details.html"><img src="../../../doc/html/images/prev.png" alt="Prev"></a><a accesskey="u" href="details.html"><img src="../../../doc/html/images/up.png" alt="Up"></a><a accesskey="h" href="../index.html"><img src="../../../doc/html/images/home.png" alt="Home"></a><a accesskey="n" href="implementation.html"><img src="../../../doc/html/images/next.png" alt="Next"></a>
</div>
</body>
</html>
